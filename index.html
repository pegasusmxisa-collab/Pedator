<!DOCTYPE html>
<html>
<head>
    <title>FSOCIETY DASHBOARD</title>
    <style>
        body { background:#000; color:#0f0; font-family:monospace; padding:20px; }
        .box { border:1px solid #0f0; padding:10px; margin-bottom:10px; }
        #log-box { color:#ff0; background:#111; height:80px; overflow:auto; padding:5px; border:1px solid #333; }
        button { background:#000; color:#0f0; border:1px solid #0f0; padding:10px; cursor:pointer; }
    </style>
</head>
<body>
    <div class="box">
        WLAN0: <span id="stat">...</span>
        <button onclick="fetch('/api/scan',{method:'POST'})">âš¡ START SCAN</button>
    </div>
    <div class="box">
        <b>LOGS:</b>
        <div id="log-box"></div>
    </div>
    <div class="box">
        <b>WIFI TREEVIEW:</b>
        <div id="tree">Waiting...</div>
    </div>
    <script>
        setInterval(async () => {
            const r = await fetch('/api/data');
            const d = await r.json();
            document.getElementById('stat').innerText = d.is_up ? "ONLINE" : "OFFLINE";
            document.getElementById('log-box').innerHTML = d.logs.join('<br>');
            let h = "";
            d.networks.forEach(n => h += `<div>[CH ${n.ch}] ${n.ssid} (${n.bssid})</div>`);
            if(h) document.getElementById('tree').innerHTML = h;
        }, 2000);
    </script>
</body>
</html>
